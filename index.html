<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mur Simulateur 3d</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="notification" class="absolute bg-red-600 text-white px-4 py-2 rounded-lg" style="display: none; z-index: 20;"></div>
  <div id="homepage" class="flex flex-col items-center justify-center h-screen">
    <img src="https://julienbro.github.io/simulateur-briques/logo.png" alt="Mur Simulateur 3d Logo" class="mb-4">
    <p class="text-lg text-black mt-2">ConÃ§u par Julien BROHEZ</p>
    <p class="text-lg text-black mt-2">Version 1.0.0</p>
    <button id="start-button" class="mt-6 bg-green-600 text-white px-6 py-3 text-lg rounded-lg hover:bg-green-700 transition">Commencer</button>
  </div>
  <div id="app">
    <div class="menu-bar">
      <div class="left-menus">
        <ul>
          <li><a href="#">Fichier</a>
            <div class="dropdown">
              <a href="#" id="save-file">Enregistrer</a>
              <a href="#" id="open-file">Ouvrir</a>
              <a href="#" id="export-pdf">Exporter PDF</a>
              <a href="#" id="export-png">Exporter PNG</a>
            </div>
          </li>
          <li><a href="#">Vue</a>
            <div class="dropdown">
              <a href="#" id="toggle-white-bricks">Afficher/Cacher en blanc</a>
              <a href="#" id="toggle-grid">Afficher/Cacher Grille</a>
              <a href="#" id="reset-camera">RÃ©initialiser CamÃ©ra</a>
            </div>
          </li>
          <li><a href="#">Ã‰diter</a>
            <div class="dropdown">
              <a href="#" id="undo">Annuler</a>
              <a href="#" id="redo">Refaire</a>
            </div>
          </li>
          <li><a href="#">Aide</a>
            <div class="dropdown">
              <a href="#" id="keyboard-shortcuts">Raccourcis clavier</a>
              <a href="#" id="about">Ã€ propos</a>
            </div>
          </li>
        </ul>
      </div>
      <div class="center-menus">
        <div class="flex items-center gap-2">
          <label for="layer-select" class="text-sm whitespace-nowrap">Assise active</label>
          <select id="layer-select" class="text-sm"></select>
          <button id="add-layer-btn" class="add-layer-btn" title="Ajouter Assise">+</button>
        </div>
      </div>
      <div class="right-menus">
        <div class="view-controls">
          <span>Vue</span>
          <button id="view-front" title="Vue de face">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-up" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <path d="M12 5v14" />
              <path d="M18 11l-6 -6l-6 6" />
            </svg>
          </button>
          <button id="view-left" title="Vue de gauche">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-left" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <path d="M5 12h14" />
              <path d="M5 12l6 6" />
              <path d="M5 12l6 -6" />
            </svg>
          </button>
          <button id="view-right" title="Vue de droite">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-right" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <path d="M5 12h14" />
              <path d="M13 18l6 -6" />
              <path d="M13 6l6 6" />
            </svg>
          </button>
          <button id="view-oblique" title="Vue oblique">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-up-right" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <path d="M17 7l-10 10" />
              <path d="M8 7h9v9" />
            </svg>
          </button>
        </div>
      </div>
    </div>
    <div class="left-toolbar">
      <button id="select-mode" title="SÃ©lectionner">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-pointer" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <path d="M7.904 17.563a1.2 1.2 0 0 0 2.228 0l6.101 -11.664a1.2 1.2 0 0 0 -1.442 -1.683l-11.426 5.897a1.2 1.2 0 0 0 0 2.228l6.539 3.222z" />
          <path d="M12 20h-2" />
          <path d="M10 20l-1 2" />
          <path d="M10 20l1 2" />
        </svg>
      </button>
      <button id="place-mode" title="Placer Brique">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brick" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <path d="M3 7l9 -4l9 4v11a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11z" />
          <path d="M11 15h2" />
          <path d="M7 7v11" />
          <path d="M17 7v11" />
        </svg>
      </button>
      <button id="delete-mode" title="Effacer">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <path d="M4 7l16 0" />
          <path d="M10 11l0 6" />
          <path d="M14 11l0 6" />
          <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
          <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
        </svg>
      </button>
      <button id="move-mode" title="DÃ©placer">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrows-diagonal" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <path d="M16 4h4v4" />
          <path d="M14 20h-4v-4" />
          <path d="M20 4l-14 16" />
        </svg>
      </button>
      <button id="rotate-mode" title="Tourner">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rotate" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <path d="M19.95 11a8 8 0 1 0 -7 7" />
          <path d="M15.5 11h4.5v-4.5" />
        </svg>
      </button>
      <button id="undo" title="Annuler">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-back-up" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <path d="M9 14l-4 -4l4 -4" />
          <path d="M5 10h11a4 4 0 1 1 0 8h-1" />
        </svg>
      </button>
      <button id="redo" title="Refaire">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-forward-up" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
          <path d="M15 14l4 -4l-4 -4" />
          <path d="M19 10h-11a4 4 0 1 0 0 8h1" />
        </svg>
      </button>
    </div>
    <div id="rotate-overlay" class="rotate-overlay">
      <label>Rotation Y (Â°)</label>
      <input type="range" id="rotate-slider" min="0" max="355" step="15" value="0">
      <div id="rotate-value" style="text-align: center; font-size: 12px; margin-top: 4px;">0Â°</div>
      <button id="confirm-rotation">Confirmer</button>
    </div>
    <div id="instruction-bar" class="instruction-bar">
      Double-cliquez pour placer une brique
    </div>
    <div id="title-input" class="title-input">
      <label for="project-title">Titre du projet</label>
      <input type="text" id="project-title" maxlength="100" placeholder="Entrez le titre du projet">
    </div>
    <div id="toolbox" class="toolbox">
      <h2>ðŸ§± Outils de pose</h2>
      <label for="brick-type">Type de brique/bloc</label>
      <select id="brick-type">
        <option value="M50">Brique M50 (19x5x9 cm)</option>
        <option value="M57">Brique M57 (19x5.7x9 cm)</option>
        <option value="M65">Brique M65 (19x6.5x9 cm)</option>
        <option value="M90">Brique M90 (19x9x9 cm)</option>
        <option value="WF">Brique WF (21x9x9 cm)</option>
        <option value="WFD">Brique WFD (21x9x9 cm)</option>
        <option value="Bloc9">Bloc de 9 (39x19x9 cm)</option>
        <option value="Bloc14">Bloc de 14 (39x19x14 cm)</option>
        <option value="Bloc19">Bloc de 19 (39x19x19 cm)</option>
        <option value="Bloc29">Bloc de 29 (39x19x29 cm)</option>
        <option value="ElementVide">Ã‰lÃ©ment vide (40x19x3 cm)</option>
        <option value="ElementVide1">Ã‰lÃ©ment vide 1 (40x19x1 cm)</option>
        <option value="ElementVide2">Ã‰lÃ©ment vide 2 (40x19x2 cm)</option>
        <option value="ElementVide4">Ã‰lÃ©ment vide 4 (40x19x4 cm)</option>
        <option value="ElementVide5">Ã‰lÃ©ment vide 5 (40x19x5 cm)</option>
      </select>
      <label>Taille</label>
      <div id="brick-size-buttons" class="flex gap-2">
        <button id="size-entire" class="brick-size-btn" data-size="entire" style="background-color: #ff0000; color: white;">1/1</button>
        <button id="size-three_quarter" class="brick-size-btn" data-size="three_quarter" style="background-color: #00ff00; color: black;">3/4</button>
        <button id="size-half" class="brick-size-btn" data-size="half" style="background-color: #0000ff; color: white;">1/2</button>
        <button id="size-quarter" class="brick-size-btn" data-size="quarter" style="background-color: #ffff00; color: black;">1/4</button>
      </div>
      <label>Rotation Y (Â°)</label>
      <input type="range" id="rotation-y" min="0" max="355" step="15" value="0">
      <div id="rotation-value" style="text-align: center; font-size: 12px;">0Â°</div>
      <label>Ã‰paisseur du joint (cm)</label>
      <input type="number" id="joint-thickness" min="0" step="0.1" value="1.2">
    </div>
    <div id="layerbox" class="layerbox">
      <div style="display: flex; align-items: center; gap: 12px;">
        <label>Assise active</label>
        <select id="layer-select-duplicate"></select>
      </div>
    </div>
    <div id="brick-counter" class="brick-counter">
      <h2>ðŸ§® Compteur d'Ã©lÃ©ments</h2>
      <div id="brick-type-counts" class="brick-type-count"></div>
    </div>
    <div id="version" class="version">Version 1.0.0 par Julien Brohez</div>
    <input type="file" id="file-input" accept=".json" style="display: none;">
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.134.0/examples/js/controls/OrbitControls.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="constants.js"></script>
  <script src="state.js"></script>
  <script src="threeSetup.js"></script>
  <script src="brickUtils.js"></script>
  <script src="sceneManagement.js"></script>
  <script src="brickOperations.js"></script>
  <script src="layerManagement.js"></script>
  <script src="historyManagement.js"></script>
  <script src="cameraControls.js"></script>
  <script src="exportUtils.js"></script>
  <script src="fileOperations.js"></script>
  <script src="uiUtils.js"></script>
  <script src="eventListeners.js"></script>
  <script src="main.js"></script>
</body>
</html>
